<form #approvalForm="ngForm" (ngSubmit)="onSubmit(approvalForm)">
  <div class="row mb-1">
    <div class="col text-center" *ngIf="(provider$ | async) as provider">
      <h5><strong>{{provider.name}}</strong></h5>
      <hr>
    </div>
  </div>
  <div class="row mb-1">
    <div class="col-md-3">
      <label for="cardNum" class="form-label">Card Number</label>
      <input id="cardNum" name="cardNum" type="text" class="form-control col-md-3" [(ngModel)]="approval.cardNumber"
        (focusout)="getMemberInfo()">
    </div>
    <div class="col-md-3">
      <label for="claimFormNum" class="form-label">Claim Form Number</label>
      <input id="claimFormNum" name="claimNum" type="text" class="form-control" [(ngModel)]="approval.claimNumber"
        (focusout)="getClaimProvider()">
    </div>
    <div class="col-md-3">
      <label for="date" class="form-label">Approval Date</label>
      <input id="date" name="date" type="date" class="form-control"
        [ngModel]="approval.approvalDate | date:'yyyy-MM-dd'" (ngModelChange)="setDate($event)">
    </div>
    <div class="col-md-3">
      <label for="diagnosis" class="form-label">Diagnosis</label>
      <app-ng-select [items]="diagnosis | async" (searching)="getDiagnosis($event)"
        (selectedItem)="getSelectedDiagnosis($event)"></app-ng-select>
    </div>
  </div>
  <div class="row mb-1">
    <div class="col-md-3">
      <label for="member" class="form-label">Member</label>
      <input id="member" value={{member.memberName}} type="text" class="form-control" readonly>
    </div>
    <div class="col-md-3">
      <label for="customer" class="form-label">Customer</label>
      <input id="customer" value={{member.customerName}} type="text" class="form-control" readonly>
    </div>
    <div class="col-md-3">
      <label for="status" class="form-label">Status</label>
      <input id="status" [class.text-danger]="!member.isActive" value={{member.statusName}} type="text"
        class="form-control fw-bold text-info " readonly>
    </div>
    <div class="col-md-3">
      <label for="claimProvider" class="form-label">Claim Provider</label>
      <input id="claimProvider" type="text" class="form-control" value="{{claimProviderName}}" readonly>
    </div>
  </div>
  <div class="row mb-1">
    <div class="col-md-9">
      <label for="notes" class="form-label">Provider Notes</label>
      <textarea class="form-control" name="providerNotes" [(ngModel)]="approval.printedNotes" id="notes"></textarea>
    </div>
  </div>
  <div class="row mb-1">
    <app-create-approval-items [serviceProviderId]="approval.serviceProviderId" (getApprovalItems)="getItems($event)">
    </app-create-approval-items>
  </div>
  <div class="row  justify-content-center">
    <button type="submit" class="col-md-2 btn btn-primary">Create Approval</button>
  </div>
</form>
